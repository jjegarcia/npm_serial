<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Link Serial</title>
</head>
<body>
<h1>Link Serial</h1>

<ul id="messages"></ul>

<!--    <div id="actions">-->
<!--      <button id="turnOnLed" type="button">Turn On LED</button>-->
<!--      <button id="turnOffLed" type="button">Turn Off LED</button>-->
<!--    </div>-->
<form action="/po" method="post">
    <input type="text" id="cha" name="cha" value=""><br>
    <input type="submit" value="Submit">
</form>

<!--<form action="/po" method="post" id="signup">-->
<!--    <h1>Sign Up</h1>-->
<!--    <div class="field">-->
<!--        <label for="name">Name:</label>-->
<!--        <input type="text" id="name" name="name" placeholder="Enter your fullname" />-->
<!--        <small></small>-->
<!--    </div>-->
<!--    <div class="field">-->
<!--        <label for="email">Email:</label>-->
<!--        <input type="text" id="email" name="email" placeholder="Enter your email address" />-->
<!--        <small></small>-->
<!--    </div>-->
<!--    <button type="submit">Subscribe</button>-->
<!--</form>-->

</body>

<script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
<script src="/socket.io/socket.io.js"></script>
<script type="text/javascript">
    $(function () {

        // Initialize Variables
        const socket = io();

        const $form  = document.getElementById('signup');
        // const $form = $('#signup');
        const $messages = $('#messages');
        // const $turnOffLed = $('#turnOffLed');
        // const $turnOnLed = $('#turnOnLed');

        $form.addEventListener('submit', (event) => {
            console.log('form submitted');
            // displayMessage('form submitted')
        });

        // Socket.io listeners
        socket.on('new message', (msg) => {
            displayMessage(msg);
        });

        socket.on('close', () => {
            displayMessage('Lost connection to device.');
        });


        // // Browser Event Listeners
        // $turnOffLed.click(() => {
        //   sendData('off');
        // });
        //
        // $turnOnLed.click(() => {
        //   sendData('on');
        // });

        // Functions
        function sendData(data) {
            socket.send(data);
        }

        function displayMessage(msg) {
            $messages.append($('<li>').text(msg));
        }
    });
</script>
</html>
